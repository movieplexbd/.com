<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Details</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"> <!-- Font Awesome CDN -->
    
<link rel="stylesheet" href="subscribers.css">
    <script type="module" src="subscribers.js"> </script>

    
    </head>
<body>
    <header>
        <a href="index.html" class="back-button"><i class="fas fa-arrow-left"></i> Back</a>
        <h1>Movie Details</h1>
    </header>

    <main id="movie-detail-container">
        <!-- Movie details will be inserted here -->
        <script type='text/javascript' src='//pl24567243.cpmrevenuegate.com/2c/2e/fe/2c2efe59679705a5241ee417a74e18d5.js'></script>
    </main>

<div id="subscribePopup" style="border:none;">
    <div class="app-container">
    <!-- Header Section -->
    <div class="app-header">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-0c8QP2Za_wCxfkJ4Ffg1SOCo95gp_-7pMA&s" alt="App Logo" class="app-logo">
    <div class="app-info">
    <h1 class="app-name">Movieplex BD</h1>
    <p class="developer-name">By Movieplex team</p>
    </div>
    
    <section class="download-section">
    <a href="https://firebasestorage.googleapis.com/v0/b/movies-bee24.appspot.com/o/files%2FMovieplex.app%20(%20%E0%A6%87%E0%A6%A8%E0%A7%8D%E0%A6%B8%E0%A6%9F%E0%A6%B2%20%E0%A6%95%E0%A6%B0%E0%A7%81%E0%A6%A8)?alt=media&token=92ff135f-c4b1-482f-9d95-870ffd23348e" class="download-btn" target="_blank">
    <i class="fas fa-download"></i> Download App
    </a>
    <p class="alert">Your download has started!</p>
    </section>
    </div>
    
    <!-- App Details Section -->
    <section class="app-details">
    <h2>About the App</h2>
    
    <p>
    Movie Plex অ্যাপটি একটি নিরাপদ এবং বিশ্বস্ত প্ল্যাটফর্ম, যেখানে আপনি সহজেই মুভি ডাউনলোড করে উপভোগ করতে পারবেন। এখানে সব ধরনের নতুন মুভি বাংলা ডাবিং ও হিন্দি ভার্সনে পাওয়া যাবে। আপনি যেকোনো সময় আপনার পছন্দের মুভি ডাউনলোড করে, পরিবারের সঙ্গে উপভোগ করতে পারবেন। অ্যাপটি ডাউনলোড করে ইনস্টল করুন, তা না হলে পরবর্তীতে ওয়েবসাইটটি খুঁজে নাও পেতে পারেন </p>
    
   </section>
    
    
    
    <!-- Download Section -->
    
    </div>

</div>


    
<script async="async" data-cfasync="false" src="//pl24842883.profitablecpmrate.com/db6410f9ee511c6ccb6af5bf9c77b5cb/invoke.js"></script>
<div id="container-db6410f9ee511c6ccb6af5bf9c77b5cb"></div>
        
<style type="text/css">
        *{
        
        margin: 0;
        padding: 0;
        box-sizing:border-box;
        
        
        }
       .main-content{
       width:100%;
       
       
       
       }
        /* Styles for header */
        header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        background-color: #333;
        padding: 20px;
       
        }
       
        
        header h1 {
        margin: 0;
        font-size: 1.3em;
        color: #ddd;
        }
        
        .back-button {
        color: #ddd;
        text-decoration: none;
        font-size: 1.2em;
        transition: color 0.3s;
        }
        
        .back-button:hover {
        color: #ffe600;
        }
        
        /* Body and general styles */
        body {
        font-family: 'Arial', sans-serif;
        
        background-color: #1a1a1a;
        color: #ffffff;
        width:100%;
        box-sizing:border-box;
        }
        
        /* Container for movie details */
        #movie-detail-container {
        
        width:100%;
        margin: auto;
        
        }
        
        /* Movie detail card layout */
        .movie-detail-card {
        display: flex; /* Flexbox for side-by-side layout */
         /* Horizontal alignment */
        background-color: transparent;
        
       padding:10px;
        width:100%;
        
        
        }
        
        /* Image styling */
        .movie-detail-card img{
        width:100px; /* Image takes 40% width */
        height:200px; /* Maintain aspect ratio */
        object-fit: cover;
        border-radius: 10px;
        margin-right: 20px; /* Space between image and text */
        }
        
        /* Text content styling */
        .movie-detail-card-content {
        flex: 1; /* Take remaining space */
        text-align: left; /* Align text to the left */
        }
        
        .movie-detail-card-content h2 {
        font-size: 1.2em;
        margin: 10px 0;
        color: #72DFE0;
        }
        pre {
        white-space: pre-wrap; /* টেক্সট র‍্যাপ করবে */
        word-wrap: break-word; /* প্রয়োজন হলে শব্দ ভাঙবে */
        overflow: auto; /* ডিভ এর সীমানার বাইরে গেলে স্ক্রল যোগ হবে */
        font-family:'sans-serif', Courier, monospace;
        line-height: 1.5;
        }
        
        p {
        font-size: 0.92em;
        margin:5px 0;
        
        border: 1px solid #888;
        padding:5px;
        margin:3px;
        border-radius: 5px;
        word-wrap: break-word;
        overflow-wrap: break-word;
        }
        
        /* Download button */
        .download-button {
        display: inline-block;
        padding: 10px 25px;
        background-color: #72DFE0;
        color: #444;
        border: none;
        border-radius: 5px;
        text-decoration: none;
        font-size: 1em;
        transition: background-color 0.3s;
        margin-top: 15px;
        }
        
        .download-button:hover {
        background-color: #ddd;
        }
        
        /* Responsive design for small screens */
        @media (max-width: 600px) {
        
         /*Stack items vertically */
        
        
        .movie-detail-card img {
        width:150px; /* Full width on small screens */
        margin-bottom: 15px;
        }
        }
        .app-container {
        max-width: 600px;
        margin: auto;
        padding: 20px;
        background: #fff;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        }
        
        /* Header Section */
        .app-header {
        display: flex;
        align-items: center;
        border-bottom: 1px solid #ddd;
        padding-bottom: 20px;
        }
        
        .app-logo {
        width: 40px;
        height:40px;
        margin-right: 10px;
        border-radius: 10px;
        object-fit: cover;
        }
        
        .app-info {
        flex: 1;
        }
        
        .app-name {
        margin: 0;
        font-size:17px;
        font-weight: bold;
        color: #444;
        }
        
        .developer-name {
        margin: -5px 0 ;
        font-size: 12px;
        color: #666;
        border:none;
        }
        
        /* App Details Section */
        .app-details {
        margin:10px 0;
        }
        
        .app-details h2 {
        font-size: 16px;
        margin-bottom: 10px;
        color: #444;
        }
        
        .app-details p {
        font-size: 15px;
        line-height: 1.5;
        }
        
        /* Screenshots Section */
        .app-screenshots {
        margin: 20px 0;
        }
        
        .app-screenshots h2 {
        font-size: 20px;
        margin-bottom: 10px;
        }
        
        .screenshot-gallery {
        display: flex;
        gap: 10px;
        }
        
        .screenshot-gallery img {
        width: 100px;
        height: 180px;
        border-radius: 10px;
        object-fit: cover;
        }
        
        /* Download Section */
        .download-section {
        text-align: center;
        margin-top: 0px;
        }
        
        .download-btn {
        background-color: #4caf50;
        color: white;
        font-size: 10px;
        padding: 8px 12px;
        border: none;
        text-decoration:none;
        border-radius: 5px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        }
        
        .download-btn:hover {
        background-color: #45a049;
        }
        
        .alert {
        display: none;
        margin-top: 15px;
        font-size: 16px;
        color: #4caf50;
        }
        .alert {
        display: none; /* Initially hide the alert */
        }
        .app-container {
        /* Initially hide the app container if you want */
         
         z-index:999;
        }
    </style>
        

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBsz-82MDaibWnIBUpoykrZHyJW7UMedX8",
            authDomain: "movies-bee24.firebaseapp.com",
            databaseURL: "https://movies-bee24-default-rtdb.firebaseio.com",
            projectId: "movies-bee24",
            storageBucket: "movies-bee24.appspot.com",
            messagingSenderId: "1080659811750",
            appId: "1:1080659811750:web:c1ef7d4dacc3ab17edc367"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        
        let clickCount = 0; // To count the number of clicks

        // Function to get movie details
        function getMovieDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const movieName = urlParams.get('name');

            const moviesRef = ref(db, 'movies');
            onValue(moviesRef, (snapshot) => {
                snapshot.forEach((childSnapshot) => {
                    const movie = childSnapshot.val();
                    if (movie.name === decodeURIComponent(movieName)) {
                        renderMovieDetails(movie);
                    }
                });
            });
        }

        // Render movie details
        function renderMovieDetails(movie) {
            const container = document.getElementById('movie-detail-container');
            container.innerHTML = `
            <div><div class="movie-detail-card">
            <img src="${movie.fileURL}" alt="${movie.name}">
            <div class="movie-detail-card-content">
            <h2>${movie.name}</h2>
            <p><strong>Year:</strong> ${movie.year}</p>
            
            <a href="#" class="download-button" id="download-link">Download Movie</a>
            <a href="https://firebasestorage.googleapis.com/v0/b/movies-bee24.appspot.com/o/files%2FMovieplex.app%20(%20%E0%A6%87%E0%A6%A8%E0%A7%8D%E0%A6%B8%E0%A6%9F%E0%A6%B2%20%E0%A6%95%E0%A6%B0%E0%A7%81%E0%A6%A8)?alt=media&token=92ff135f-c4b1-482f-9d95-870ffd23348e" class="download-button" >Download....App</a>
            
            </div>
            </div>
            <pre><p><strong>Description:</strong> ${movie.description}</p></pre></div>
            `;
            // Adding click event listener for download button
            const downloadButton = document.getElementById('download-link');
            downloadButton.addEventListener('click', (event) => {
                event.preventDefault(); // Prevent default anchor behavior
                clickCount++; // Increment click count
                if (clickCount < 3) {
                    // First two clicks show ad link
                    window.open(movie.adLink, '_blank'); // Open ad link in new tab
                } else {
                    // Third click shows actual download link
                    window.location.href = movie.downloadLink; // Redirect to download link
                }
            });
        }

        // Load movie details on page load
        getMovieDetails();
        
        
        (function() {
        const appContainer = document.querySelector('.app-container');
        const downloadBtn = document.querySelector('.download-btn');
        
        // Function to check if the app has been downloaded (using localStorage)
        function isAppDownloaded() {
        return localStorage.getItem('appDownloaded') === 'true';
        }
        
        // Function to set the app as downloaded (using localStorage)
        function setAppDownloaded() {
        localStorage.setItem('appDownloaded', 'true');
        }
        
        // Check if the user has already downloaded the app
        if (isAppDownloaded()) {
        // If the user has downloaded the app, hide the app container
        if (appContainer) {
        appContainer.style.display = 'none';
        }
        } else {
        // Add a click listener to the download button
        if (downloadBtn) {
        downloadBtn.addEventListener('click', function(event) {
        // Set the app as downloaded in localStorage
        setAppDownloaded();
        
        // Hide the app container after the button is clicked
        if (appContainer) {
        appContainer.style.display = 'none';
        }
        });
        }
        }
        })();
        
        
    </script>
</body>
</html>
